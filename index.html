<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>Stardew Birthday Celebration</title>
  <!-- 在这里引入 Google Fonts 中的 Press Start 2P -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      /* 把全局字体换成像素风 */
      font-family: 'Press Start 2P', monospace;
    }

    /* 整页背景：模糊图片 */
    body {
      background: url("birthday_bg_blurred.png") center/cover no-repeat;
      /* 如果想让背景固定不动，可加:
         background-attachment: fixed; 
      */
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 1rem;
    }

    /* 保持标题白色 + 像素字体 */
    .section-title {
      text-align: center;
      font-size: 1.6rem; /* 原来是1.8rem，Press Start 2P字比较紧凑，可以稍微调一下 */
      margin: 1rem 0;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
    }

    .welcome-section {
      position: relative;
      padding: 2rem;
      background: transparent;
      text-align: center;
      color: #fff;
      border: 4px solid #835e29;
    }
    .welcome-banner {
      display: inline-block;
      margin-top: 2rem;
      padding: 0.5rem 1rem;
      background: rgba(255, 245, 195, 0.8);
      color: #835e29;
      font-size: 1rem; /* 调整一点，避免Press Start 2P过大 */
      border: 2px solid #835e29;
    }
    .dialog-box {
      margin-top: 2rem;
      padding: 1rem;
      background: #fff5c3;
      border: 4px solid #835e29;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      font-size: 1rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      color: #582d0e;
    }

    .villagers {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }
    .villager {
      width: 80px;
      text-align: center;
      cursor: pointer;
    }
    .villager img {
      width: 80px;
      height: 80px;
      image-rendering: pixelated;
      border: 2px solid #835e29;
    }
    .villager p {
      margin-top: 0.5rem;
      font-size: 0.7rem; /* Press Start 2P比较大，可以适当缩小 */
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.6);
    }

    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
    }
    .modal {
      background: #fff5c3;
      border: 4px solid #835e29;
      padding: 1rem;
      max-width: 400px;
      text-align: center;
      color: #582d0e;
      font-size: 1rem;
    }

    .gifts {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }
    .gift-box {
      width: 120px;
      height: 120px;
      background: #d2c092;
      border: 4px solid #835e29;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      color: #835e29;
      cursor: pointer;
      text-align: center;
      position: relative;
    }
    .gift-content {
      display: none;
      background: #fff5c3;
      border: 2px dashed #835e29;
      margin-top: 1rem;
      padding: 1rem;
      font-size: 0.9rem;
      color: #582d0e;
    }

    .wish-section {
      text-align: center;
      margin: 2rem 0;
    }
    .wish-section input {
      padding: 0.5rem;
      margin-right: 0.5rem;
      font-size: 0.8rem;
    }
    .wish-response {
      margin-top: 1rem;
      padding: 1rem;
      background: #fff5c3;
      border: 2px dashed #835e29;
      display: none;
      color: #582d0e;
      font-size: 0.9rem;
    }

    .ending-dialog {
      margin: 2rem 0;
      padding: 1rem;
      background: #fff5c3;
      border: 4px solid #835e29;
      text-align: center;
      color: #582d0e;
      display: none;
      font-size: 0.9rem;
    }

    /* 开场动画覆盖层（可选） */
    .intro-overlay {
      position: fixed;
      top: 0; 
      left: 0;
      width: 100vw; 
      height: 100vh;
      background: #000;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .intro-content {
      text-align: center;
      color: #fff;
      max-width: 600px;
      padding: 1rem;
    }
    .intro-content img {
      width: 200px;
      height: auto;
      image-rendering: pixelated;
      display: block;
      margin: 0 auto;
    }
    .intro-dialog {
      margin-top: 1rem;
      background: rgba(255, 245, 195, 0.9);
      border: 4px solid #835e29;
      padding: 1rem;
      color: #582d0e;
      font-size: 0.9rem;
    }
    .intro-buttons {
      margin-top: 1rem;
    }
    .intro-buttons button {
      margin: 0.5rem;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-size: 0.8rem;
    }
  </style>
</head>
<body>
  <!-- 开场动画覆盖层（可选） -->
  <div class="intro-overlay" id="introOverlay">
    <div class="intro-content">
      <img src="pixel_zhanglinghe.png" alt="像素风张凌赫" />
      <audio id="introAudio">
        <source src="zhanglinghe_happy_birthday.mp3" type="audio/mpeg">
        你的浏览器不支持音频播放
      </audio>
      <div class="intro-dialog">
        <p>「今天是你出生的那天。我想第一个说喜欢你的人是我。」</p>
      </div>
      <div class="intro-buttons">
        <button onclick="playZlhAudio()">点击即听张凌赫想对你说的话</button>
        <button onclick="closeIntro()">进入农场</button>
      </div>
    </div>
  </div>

  <div class="container">
    <!-- 首页 / Welcome -->
    <section class="welcome-section">
      <h1 class="section-title">🌼 Stardew Birthday</h1>
      <div class="welcome-banner">门口挂着生日横幅</div>
      <div class="dialog-box">
        <p>「今天是 <strong>XXX</strong> 的生日。<br>农场里的人都为TA准备了一些特别的东西。」</p>
      </div>
    </section>

    <!-- 村民送礼页面 -->
    <section>
      <h2 class="section-title">🎁 村民送礼</h2>
      <div class="villagers">
        <div class="villager" onclick="openModal('modal1')">
          <img src="villager_diandian.png" alt="典典">
          <p>典典</p>
        </div>
        <div class="villager" onclick="openModal('modal2')">
          <img src="villager_maomao.png" alt="猫猫">
          <p>猫猫</p>
        </div>
        <div class="villager" onclick="openModal('modal3')">
          <img src="villager_yuyu.png" alt="鱼鱼">
          <p>鱼鱼</p>
        </div>
        <div class="villager" onclick="openModal('modal4')">
          <img src="villager_xinxin.png" alt="鑫鑫">
          <p>鑫鑫</p>
        </div>
        <div class="villager" onclick="openModal('modal5')">
          <img src="villager_tingting.png" alt="婷婷">
          <p>婷婷</p>
        </div>
      </div>
    </section>

    <!-- 5个弹窗示例 -->
    <div id="modalOverlay" class="modal-overlay" onclick="closeModal()">
      <div class="modal" id="modal1">
        <p>典典：我还记得你去年冬天一直陪我走过那段忙乱的日子。<br>今天，换我陪你慢一点，好吗？</p>
      </div>
      <div class="modal" id="modal2">
        <p>猫猫：你总是在我最需要的时候出现。很幸运能认识你，生日快乐。</p>
      </div>
      <div class="modal" id="modal3">
        <p>鱼鱼：多希望一起去海边晒太阳，再一起记录那些灿烂的回忆。</p>
      </div>
      <div class="modal" id="modal4">
        <p>鑫鑫：你说过春天有股让人想尝试新事物的魔力。<br>愿你今年的每一步都带着这份勇气。</p>
      </div>
      <div class="modal" id="modal5">
        <p>婷婷：谢谢你那天深夜的陪伴和建议。<br>现在轮到我来陪你一起庆祝这一天。</p>
      </div>
    </div>

    <!-- 礼物互动区 -->
    <section>
      <h2 class="section-title">🍵 你的生日礼物</h2>
      <div class="gifts">
        <div class="gift-box" onclick="toggleGiftContent('gift1')">📖 诗一首</div>
        <div class="gift-box" onclick="toggleGiftContent('gift2')">🎧 一首BGM</div>
        <div class="gift-box" onclick="toggleGiftContent('gift3')">🧶 像素风娃娃</div>
        <div class="gift-box" onclick="toggleGiftContent('gift4')">🌸 动图祝福</div>
      </div>

      <div id="gift1" class="gift-content">
        <p>你可以在这里放一首你喜欢的短诗，或者自己写的生日祝福诗句。</p>
      </div>
      <div id="gift2" class="gift-content">
        <p>你可以嵌入一个音乐播放器：</p>
        <audio controls>
          <source src="your_bgm.mp3" type="audio/mpeg">
          你的浏览器不支持音频播放
        </audio>
      </div>
      <div id="gift3" class="gift-content">
        <p>像素风娃娃示例：</p>
        <img src="pixel_doll.png" alt="Pixel Doll" style="width:100px;height:auto; image-rendering:pixelated;">
      </div>
      <div id="gift4" class="gift-content">
        <p>你可以在这里加GIF动图背景，或直接写祝福文字。</p>
        <img src="blessing.gif" alt="Blessing GIF" style="width:200px;height:auto;">
      </div>
    </section>

    <!-- 许愿池 -->
    <section class="wish-section">
      <h2 class="section-title">🔮 许愿池</h2>
      <input type="text" id="wishInput" placeholder="输入今年的愿望...">
      <button onclick="throwCoin()">投入硬币</button>
      <div id="wishResponse" class="wish-response">
        风听见了，你说的，它会替你记住。
      </div>
    </section>

    <!-- 收尾 / Ending Dialog -->
    <div id="endingDialog" class="ending-dialog">
      <p>「等下次再见，我们都要比现在更喜欢自己一点点。」</p>
    </div>
  </div>

  <script>
    function playZlhAudio() {
      const audio = document.getElementById('introAudio');
      audio.play().catch((err) => {
        console.log('音频播放被浏览器拦截，需要用户交互', err);
      });
    }
    function closeIntro() {
      document.getElementById('introOverlay').style.display = 'none';
    }

    function openModal(modalId) {
      document.getElementById('modalOverlay').style.display = 'flex';
      const modals = document.querySelectorAll('.modal');
      modals.forEach(m => m.style.display = 'none');
      document.getElementById(modalId).style.display = 'block';
    }
    function closeModal() {
      document.getElementById('modalOverlay').style.display = 'none';
    }

    function toggleGiftContent(giftId) {
      const content = document.getElementById(giftId);
      content.style.display = content.style.display === 'block' ? 'none' : 'block';
    }

    function throwCoin() {
      const inputVal = document.getElementById('wishInput').value.trim();
      const wishResponse = document.getElementById('wishResponse');
      if (inputVal) {
        wishResponse.innerHTML = "风听见了，你说的：" + inputVal + "。它会替你记住。";
        wishResponse.style.display = 'block';
      } else {
        wishResponse.innerHTML = "好像什么都没说？试着输入一个心愿吧。";
        wishResponse.style.display = 'block';
      }
    }

    // 如果要自动显示结束语，可在需要时机调用
    // window.addEventListener('load', () => {
    //   setTimeout(() => {
    //     document.getElementById('endingDialog').style.display = 'block';
    //   }, 10000);
    // });
  </script>
</body>
</html>
